<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="refresh" content="{{ refresh_interval }}">
<meta http-equiv="refresh" content="5">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DevOps CI/CD Dashboard | Kubernetes</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header class="dashboard-header">
            <div class="header-content">
                <div class="title-section">
                    <i class="fas fa-code-branch"></i>
                    <h1>DevOps CI/CD Pipeline Dashboard</h1>
                    <p class="subtitle">End-to-End Deployment Demonstration</p>
                </div>
                <div class="tech-stack">
                    <span class="tech-tag"><i class="fab fa-github"></i> GitHub Actions</span>
                    <span class="tech-tag"><i class="fab fa-docker"></i> Docker</span>
                    <span class="tech-tag"><i class="fas fa-cube"></i> Kubernetes</span>
                    <span class="tech-tag"><i class="fas fa-server"></i> Minikube</span>
                </div>
            </div>
            <div class="pipeline-visual">
                <div class="pipeline-step active">
                    <div class="step-icon"><i class="fas fa-code"></i></div>
                    <p>Code</p>
                </div>
                <div class="pipeline-connector"></div>
                <div class="pipeline-step active">
                    <div class="step-icon"><i class="fas fa-play-circle"></i></div>
                    <p>Build</p>
                </div>
                <div class="pipeline-connector"></div>
                <div class="pipeline-step active">
                    <div class="step-icon"><i class="fas fa-shipping-fast"></i></div>
                    <p>Deploy</p>
                </div>
                <div class="pipeline-connector"></div>
                <div class="pipeline-step active">
                    <div class="step-icon"><i class="fas fa-check-circle"></i></div>
                    <p>Running</p>
                </div>
            </div>
        </header>

        <main class="dashboard-content">
            <div class="dashboard-grid">
                <section class="card status-card">
                    <div class="card-header">
                        <h2><i class="fas fa-rocket"></i> Deployment Status</h2>
                        <span class="status-badge running"><i class="fas fa-circle"></i> Running</span>
                    </div>
                    <div class="card-body">
                        <div class="status-item">
                            <div class="status-label">
                                <i class="fas fa-cloud"></i>
                                <span>Environment</span>
                            </div>
                            <div class="status-value">Local Kubernetes Cluster</div>
                        </div>
                        <div class="status-item">
                            <div class="status-label">
                                <i class="fas fa-layer-group"></i>
                                <span>Namespace</span>
                            </div>
                            <div class="status-value">dev</div>
                        </div>
                        <div class="status-item">
                            <div class="status-label">
                                <i class="fas fa-heartbeat"></i>
                                <span>Health Check</span>
                            </div>
                            <div class="status-value"><span class="healthy">Healthy</span></div>
                        </div>
                        <div class="status-item">
                            <div class="status-label">
                                <i class="fas fa-clock"></i>
                                <span>Uptime</span>
                            </div>
                            <div class="status-value">Continuous</div>
                        </div>
                    </div>
                </section>

                <section class="card runtime-card">
                    <div class="card-header">
                        <h2><i class="fas fa-microchip"></i> Runtime Information</h2>
                    </div>
                    <div class="card-body">
                        <div class="info-item highlight">
                            <div class="info-label">
                                <i class="fas fa-cube"></i>
                                <span>Pod Name</span>
                            </div>
                            <div class="info-value pod-name">{{ pod_name }}</div>
                        </div>
                        <div class="info-item highlight">
                            <div class="info-label">
                                <i class="fas fa-server"></i>
                                <span>Node Name</span>
                            </div>
                            <div class="info-value node-name">{{ node_name }}</div>
                        </div>
                        <div class="info-item highlight">
                            <div class="info-label">
                                <i class="fas fa-tag"></i>
                                <span>Image Version</span>
                            </div>
                            <div class="info-value image-version">{{ image_name }}</div>
                        </div>
                        <div class="runtime-visual">
                            <div class="visual-pod">
                                <i class="fas fa-cube"></i>
                                <div class="visual-label">Pod</div>
                            </div>
                            <div class="visual-arrow">
                                <i class="fas fa-arrow-right"></i>
                            </div>
                            <div class="visual-node">
                                <i class="fas fa-server"></i>
                                <div class="visual-label">Node</div>
                            </div>
                        </div>
                    </div>
                </section>

                <section class="card workflow-card">
                    <div class="card-header">
                        <h2><i class="fas fa-sitemap"></i> CI/CD Workflow</h2>
                    </div>
                    <div class="card-body">
                        <ol class="workflow-steps">
                            <li class="workflow-step">
                                <div class="step-number">1</div>
                                <div class="step-content">
                                    <h3>Code Commit</h3>
                                    <p>Developer pushes code to GitHub repository</p>
                                    <div class="step-tag"><i class="fab fa-github"></i> GitHub</div>
                                </div>
                            </li>
                            <li class="workflow-step">
                                <div class="step-number">2</div>
                                <div class="step-content">
                                    <h3>Automated Build</h3>
                                    <p>GitHub Actions builds Docker image and runs tests</p>
                                    <div class="step-tag"><i class="fas fa-play-circle"></i> GitHub Actions</div>
                                </div>
                            </li>
                            <li class="workflow-step">
                                <div class="step-number">3</div>
                                <div class="step-content">
                                    <h3>Containerize</h3>
                                    <p>Docker image is pushed to registry with version tag</p>
                                    <div class="step-tag"><i class="fab fa-docker"></i> Docker</div>
                                </div>
                            </li>
                            <li class="workflow-step">
                                <div class="step-number">4</div>
                                <div class="step-content">
                                    <h3>Kubernetes Deployment</h3>
                                    <p>Image deployed to Minikube cluster via kubectl</p>
                                    <div class="step-tag"><i class="fas fa-cubes"></i> Kubernetes</div>
                                </div>
                            </li>
                        </ol>
                    </div>
                </section>

                <section class="card architecture-card">
                    <div class="card-header">
                        <h2><i class="fas fa-project-diagram"></i> System Architecture</h2>
                    </div>
                    <div class="card-body">
                        <div class="architecture-diagram">
                            <div class="arch-component">
                                <div class="arch-icon"><i class="fas fa-laptop-code"></i></div>
                                <p>Developer</p>
                            </div>
                            <div class="arch-arrow"><i class="fas fa-arrow-right"></i></div>
                            <div class="arch-component">
                                <div class="arch-icon"><i class="fab fa-github"></i></div>
                                <p>GitHub</p>
                            </div>
                            <div class="arch-arrow"><i class="fas fa-arrow-right"></i></div>
                            <div class="arch-component">
                                <div class="arch-icon"><i class="fas fa-play-circle"></i></div>
                                <p>GitHub Actions</p>
                            </div>
                            <div class="arch-arrow"><i class="fas fa-arrow-right"></i></div>
                            <div class="arch-component">
                                <div class="arch-icon"><i class="fab fa-docker"></i></div>
                                <p>Docker</p>
                            </div>
                            <div class="arch-arrow"><i class="fas fa-arrow-right"></i></div>
                            <div class="arch-component">
                                <div class="arch-icon"><i class="fas fa-cubes"></i></div>
                                <p>Kubernetes</p>
                            </div>
                        </div>
                        <div class="architecture-description">
                            <p>This demonstration showcases a complete CI/CD pipeline from code commit to production deployment on a local Kubernetes cluster using Minikube.</p>
                            <p>The frontend you're viewing is served from the Flask application running inside the Kubernetes pod.</p>
                        </div>
                    </div>
                </section>
            </div>
        </main>

        <footer class="dashboard-footer">
            <div class="footer-content">
                <p><i class="fas fa-graduation-cap"></i> DevOps CI/CD Demonstration Project | Faculty-Friendly Interface</p>
                <p class="footer-note">Designed for educational purposes to demonstrate modern DevOps practices</p>
            </div>
        </footer>
    </div>
</body>
</html>